"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[904],{3904:function(e,n,t){t.r(n),t.d(n,{Contacts:function(){return z}});var r=t(1614),a=t(8870),i=t(5527),o=t(8427),s=t(2791),l=t(9434),u=t(2286),c=t(1558),m=t(4358),d=t(6151),x=t(9124),h=t(5705),b=t(6727),p=b.Ry().shape({name:b.Z_().min(2).max(50).matches("^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$","only letters").required(),number:b.Rx().min(8).required()}),v=t(184),f=(0,s.memo)((function(){var e=(0,l.v9)(u.nk),n=e.token,t=e.user,r=(0,l.I0)(),i=(0,l.v9)(u.EX),s=(0,h.TA)({initialValues:{name:"",number:""},validationSchema:p,onSubmit:function(e){if(i.items.some((function(n){return n.name.toLowerCase().trim()===e.name.toLowerCase().trim()})))return alert("".concat(e.name," is already in contacts"));n&&t.email&&x.ot.set(n),r((0,c.uK)(e)),s.resetForm()}});return(0,v.jsxs)(v.Fragment,{children:[s.errors.name&&s.touched.name?(0,v.jsx)(m.Z,{severity:"error",children:"Error, please enter a valid name value"}):null,s.errors.number&&s.touched.number?(0,v.jsx)(m.Z,{severity:"error",children:"Error, please enter a valid number value"}):null,(0,v.jsxs)(a.Z,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},onSubmit:s.handleSubmit,autoComplete:"off",children:[(0,v.jsx)(o.Z,{required:!0,id:"outlined-required",label:"Name",name:"name",onChange:s.handleChange,value:s.values.name}),(0,v.jsx)(o.Z,{required:!0,id:"outlined-required",label:"Number",name:"number",onChange:s.handleChange,value:s.values.number}),(0,v.jsx)(d.Z,{variant:"contained",type:"submit",size:"medium",children:"Add contact"})]})]})})),j=t(1413),Z="ContactItem_listItem__NSSYk",g="ContactItem_btnDelete__edqzG",C=t(1889),_=t(890),k=t(7247),y=function(e){var n=e.name,t=e.number,r=e.id,a=(0,l.I0)();return(0,v.jsx)(C.ZP,{item:!0,component:"li",sx:{marginBottom:"15px",width:"100%"},children:(0,v.jsxs)(i.Z,{elevation:2,className:Z,sx:{bgcolor:"#8cbff860"},children:[(0,v.jsxs)(_.Z,{sx:{fontSize:"22px"},variant:"body1",component:"p",children:[n,": ",t]}),(0,v.jsx)(d.Z,{className:g,variant:"outlined",startIcon:(0,v.jsx)(k.Z,{}),type:"button",onClick:function(){a((0,c.GK)(r))},children:"Delete"})]})})},w=function(){var e=(0,l.v9)(u.Gj);return(0,v.jsx)(C.ZP,{container:!0,component:"ul",children:e.map((function(e){return(0,v.jsx)(y,(0,j.Z)({},e),e.id)}))})},I=t(1634),q=function(){var e=(0,l.I0)();return(0,v.jsx)(o.Z,{id:"outlined-textarea",type:"text",label:"Find contacts by name",name:"filter",onChange:function(n){return e((0,I.M)(n.target.value))},multiline:!0})},S=t(7593),z=function(){var e=(0,l.I0)(),n=(0,l.v9)(u.uG),t=(0,l.v9)(u.EX),o=t.isLoading,m=t.error,d=(0,l.v9)(u.nk),h=d.token,b=d.user;return(0,s.useEffect)((function(){h&&b.email&&(x.ot.set(h),e((0,c.yF)(n)))}),[h,b.email,e,n]),m?(0,v.jsx)("p",{children:"Download error"}):(0,v.jsx)(r.Z,{maxWidth:"sm",children:(0,v.jsx)(a.Z,{sx:{p:"30px 0"},children:(0,v.jsxs)(i.Z,{elevation:3,sx:{p:"20px 20px",display:"flex",flexDirection:"column",gap:"20px",textAlign:"center",bgcolor:"#558bc820"},children:[(0,v.jsx)("h1",{children:"Phonebook"}),(0,v.jsx)(f,{}),(0,v.jsx)("h2",{children:"Contacts"}),(0,v.jsx)(q,{}),o?(0,v.jsx)(S.a,{}):(0,v.jsx)(w,{})]})})})}}}]);
//# sourceMappingURL=904.c063cdc9.chunk.js.map